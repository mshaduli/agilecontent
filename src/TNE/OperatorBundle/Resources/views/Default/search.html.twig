{#

This file is part of the Sonata package.

(c) Thomas Rabaix <thomas.rabaix@sonata-project.org>

For the full copyright and license information, please view the LICENSE
file that was distributed with this source code.

#}
{% extends 'ApplicationSonataPageBundle::base_func_layout.html.twig' %}

{% block page_stylesheets %}
    {{ parent() }}
<link rel="stylesheet" href="http://fast.fonts.com/cssapi/1a5d5164-616e-4355-a99a-4cbe2bd50933.css" type="text/css"/>
<link rel="stylesheet" href="{{ asset('bundles/tneoperator/angular/app/css/app.css') }}" type="text/css" media="all" />

<link rel="stylesheet" href="{{ asset('bundles/tneoperator/css/font-awesome.min.css') }}" type="text/css" media="all" />
<link rel="stylesheet" href="{{ asset('bundles/tneoperator/css/theme-falls-creek.css') }}" type="text/css" media="all" />
<link rel="stylesheet" href="{{ asset('bundles/tneoperator/css/select2.css') }}" type="text/css" media="all" />
<link rel="stylesheet" href="{{ asset('bundles/tneoperator/angular/app/css/daterangepicker.css') }}" type="text/css" media="all" />

{% endblock %}

{% block page_javascripts %}
    {{ parent() }}
    {{ vichgeo_include_js() }}
        <script src="{{ asset('bundles/tneoperator/angular/app/lib/angular/angular.js') }}" type="text/javascript"></script>
        <script src="{{ asset('bundles/tneoperator/angular/app/lib/angular/angular-resource.js') }}" type="text/javascript"></script>
        <script src="{{ asset('bundles/tneoperator/angular/app/js/daterangepicker.js') }}"></script>
        <script src="{{ asset('bundles/tneoperator/angular/app/js/moment.min.js') }}"></script>
        <script src="{{ asset('bundles/tneoperator/angular/app/js/map.js') }}"></script>
        <script src="{{ asset('bundles/tneoperator/angular/app/js/search.js') }}"></script>
        <script src="{{ asset('bundles/tneoperator/js/select2.js') }}"></script>
{% endblock %}    
    
{% block content %}

<div ng-app="SearchApp" ng-controller="SearchController">

{% include 'TNEOperatorBundle:Default:header.html.twig' %}

    <div id="main" class="container">
        <div class="row hidden-phone">
            <div class="span6">
                <tabs class="btn-group" data-toggle="buttons-radio" model='filters.OperatorView' operators="operators" options='OperatorViewOptions' classes=""></tabs>
            </div>
            <div class="span3">
                <!--<div class="pull-right">
                    Sort by <select id="sort">
                             <option value="">Relevance</option>
                             <option value="">Distance</option>
                             <option value="">Price</option>
                         </select>
                </div>   -->
            </div>
            <div class="span3 pull-right">
                <buttons-radio class="btn-group pull-right" data-toggle="buttons-radio" model='UIView' options='UIViewOptions' classes=""></buttons-radio>
            </div>
        </div>
        <div class="row hidden-phone">
            <div class="span12 divider"></div>
        </div>
        <div class="row" >
            <div id="main-pane" class="span9" >

                <div ng-show="UIView=='Map'">
                    <div results-map operators="operators" center="mapOptions.center" zoom="mapOptions.zoom" map="map" class="map-results"></div>
                </div>

                <div ng-show="UIView=='List'">
                    <results-list operators="operators" loading="loading" limit="9" page="9"></results-list>
                </div>

                <div id="grid" ng-show="UIView=='Calendar'">
                    <table class="table table-bordered table-hover">
                        <thead>
                        <tr>
                            <th></th>
                            <th>Tue<div class="date">11MAR</div></th>
                            <th>Wed<div class="date">11MAR</div></th>
                            <th>Thu<div class="date">11MAR</div></th>
                            <th>Fri<div class="date">11MAR</div></th>
                            <th>Sat<div class="date">11MAR</div></th>
                            <th>Sun<div class="date">11MAR</div></th>
                            <th>Mon<div class="date">11MAR</div></th>
                            <th>Tue<div class="date">11MAR</div></th>
                            <th>Wed<div class="date">11MAR</div></th>
                            <th class="control"><i class="icon-angle-left icon-2x"></i></th>
                            <th class="control"><i class="icon-angle-right icon-2x"></i></th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr>
                            <td>
                                <span class="title">Silverski Hotel and A..</span>
                                <div>Falls Creek <div data-score="4" class="star pull-right"></div></div>
                            </td>
                            <td><span class="price">$999</span></td>
                            <td><span class="price">$999</span></td>
                            <td><span class="price">$999</span></td>
                            <td class="selected"><span class="price">$999</span></td>
                            <td class="selected"><span class="price">$999</span></td>
                            <td class="selected"><span class="price">$999</span></td>
                            <td><span class="price">$999</span></td>
                            <td><span class="price">$999</span></td>
                            <td><span class="price">$999</span></td>
                            <td><a class="btn btn-link btn-off" href="#"><i class="icon-star"></i></a></td>
                            <td><a class="btn btn-link btn-success" href="#"><i class="icon-ok"></i></a></td>
                        </tr>
                        <tr>
                            <td>
                                <span class="title">Silverski Hotel and A..</span>
                                <div>Falls Creek <div data-score="4" class="star pull-right"></div></div>
                            </td>
                            <td><span class="price">$999</span></td>
                            <td><span class="price">$999</span></td>
                            <td><span class="price">$999</span></td>
                            <td class="selected"><span class="price">$999</span></td>
                            <td class="selected"><span class="price">$999</span></td>
                            <td class="selected"><span class="price">$999</span></td>
                            <td><span class="price">$999</span></td>
                            <td><span class="price">$999</span></td>
                            <td><span class="price">$999</span></td>
                            <td><a class="btn btn-link btn-on" href="#"><i class="icon-star"></i></a></td>
                            <td><a class="btn btn-link btn-success" href="#"><i class="icon-ok"></i></a></td>
                        </tr>
                        <tr>
                            <td>
                                <span class="title">Silverski Hotel and A..</span>
                                <div>Falls Creek <div data-score="4" class="star pull-right"></div></div>
                            </td>
                            <td><span class="price">$999</span></td>
                            <td><span class="price">$999</span></td>
                            <td><span class="price">$999</span></td>
                            <td class="selected"><span class="price">$999</span></td>
                            <td class="selected"><span class="price">$999</span></td>
                            <td class="selected"><span class="price">$999</span></td>
                            <td><span class="price">$999</span></td>
                            <td><span class="price">$999</span></td>
                            <td><span class="price">$999</span></td>
                            <td><a class="btn btn-link btn-off" href="#"><i class="icon-star"></i></a></td>
                            <td><a class="btn btn-link btn-success" href="#"><i class="icon-ok"></i></a></td>
                        </tr>
                        <tr>
                            <td>
                                <span class="title">Silverski Hotel and A..</span>
                                <div>Falls Creek <div data-score="4" class="star pull-right"></div></div>
                            </td>
                            <td><span class="price">$999</span></td>
                            <td><span class="price">$999</span></td>
                            <td><span class="price">$999</span></td>
                            <td class="selected"><span class="price">$999</span></td>
                            <td class="selected"><span class="price">$999</span></td>
                            <td class="selected booked"><i class="icon-remove icon-large"></i></td>
                            <td class="booked"><i class="icon-remove icon-large"></i></td>
                            <td class="booked"><i class="icon-remove icon-large"></i></td>
                            <td><span class="price">$999</span></td>
                            <td><a class="btn btn-link btn-off" href="#"><i class="icon-star"></i></a></td>
                            <td><a class="btn btn-link btn-success" href="#"><i class="icon-ok"></i></a></td>
                        </tr>
                        <tr>
                            <td>
                                <span class="title">Silverski Hotel and A..</span>
                                <div>Falls Creek <div data-score="4" class="star pull-right"></div></div>
                            </td>
                            <td><span class="price">$999</span></td>
                            <td><span class="price">$999</span></td>
                            <td><span class="price">$999</span></td>
                            <td class="selected"><span class="price">$999</span></td>
                            <td class="selected"><span class="price">$999</span></td>
                            <td class="selected"><span class="price">$999</span></td>
                            <td><span class="price">$999</span></td>
                            <td><span class="price">$999</span></td>
                            <td><span class="price">$999</span></td>
                            <td><a class="btn btn-link btn-off" href="#"><i class="icon-star"></i></a></td>
                            <td><a class="btn btn-link btn-success" href="#"><i class="icon-ok"></i></a></td>
                        </tr>
                        </tbody>
                    </table>
                    <div>
                        <a class="btn btn-full" href="#">Show me more</a>
                    </div>
                </div>
            

            </div>

            <div id="side-pane" class="span3 hidden-phone">
                {% include 'TNEOperatorBundle:Default:filters.html.twig' %}
            </div>
        </div>



    </div>

{% include 'TNEOperatorBundle:Default:footer.html.twig' %}

    <div id="design"></div>
</div>
        
<script>
    $(document).ready(function(){

        // Footer map
        var footerMapOptions = {
            zoom: 12,
            center: new google.maps.LatLng(-36.86424, 147.282715),
            disableDefaultUI: true,
            mapTypeId: google.maps.MapTypeId.ROADMAP
        }
        var footerMap = new google.maps.Map(document.getElementById("footerMap"), footerMapOptions);
        var footerMarker = new google.maps.Marker({
            position: new google.maps.LatLng(-36.86424, 147.282715),
            map: footerMap,
            icon: '/bundles/tneoperator/img/map/marker_blue.png'
        });

        // Init date picker
        var $filterDate = $('#filterDate');
        $filterDate.daterangepicker(
            {
                opens: 'left',
                format: 'DD/MM',
                separator: ' to ',
                startDate: new Date(),
                endDate: moment().add('days', 7)
            }
        );
        $filterDate.val(moment().format('DD/MM') + ' to ' + moment().add('days', 7).format('DD/MM'));

//        $('#filterDateBtn').click(function(){
//            $filterDate.datepicker( "show" );
//        });



        // Init the filters
        $("#filterTags").select2({ containerCssClass : "search-filter" });

        // Init header filters
        $('#filterAccomm').select2({});
        $('#filterOccupants').select2({});

        //angular.bootstrap(document, ['SearchApp']);
    });
</script>
            
{% endblock %}
